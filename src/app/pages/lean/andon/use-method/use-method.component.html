<div class="header">
  <h1><i class="fas fa-project-diagram"></i> LeanFlowMaster</h1>
  <p>Custom Andon Dashboard Builder</p>
</div>

<div class="container" *ngIf="selectedDashboard; else selectDashboard">
  <h2>{{ selectedDashboard.name }}</h2>
  <p>Refresh Rate: {{ selectedDashboard.refreshRate }} seconds</p>
  <div class="button-group">
    <button nbButton status="info" (click)="onBackToSelection()">Back to Selection</button>
    <button nbButton status="danger" (click)="onDeleteDashboard(selectedDashboard)">Delete Dashboard</button>
  </div>
  <div class="preview-container" id="previewContainer">
    <div *ngFor="let station of selectedDashboard.stations" class="preview-station">
      <h3><i class="fas {{ station.icon }}"></i> {{ station.name }}</h3>
      <p>{{ station.metric_name }}</p>
      <div class="preview-metric">{{ station.target_value }}</div>
      <div class="preview-status">Normal</div>
    </div>
  </div>
  <ngx-notifications [dashboard]="selectedDashboard"></ngx-notifications>
</div>

<ng-template #selectDashboard>
  <div class="container">
    <h2>Select a Dashboard</h2>
    <div class="dashboard-list">
      <div *ngFor="let dashboard of dashboards" class="dashboard-item">
        <h3>{{ dashboard.name }}</h3>
        <p>Refresh Rate: {{ dashboard.refreshRate }} seconds</p>
        <button nbButton status="primary" (click)="onSelectDashboard(dashboard)">Open Dashboard</button>
      </div>
    </div>
  </div>
</ng-template>
