<nb-card class="notification-card">
  <nb-card-header>
    <h3>Station Notifications</h3>
  </nb-card-header>
  <nb-card-body>
    <nb-list>
      <nb-list-item *ngFor="let notification of getDisplayedNotifications()" class="notification-item" (click)="openDetails(notification)">
        <nb-icon [icon]="getLevelIcon(notification.level)" [ngClass]="getLevelColor(notification.level)" class="notification-icon"></nb-icon>
        <div class="notification-details">
          <span class="notification-station">{{ notification.station }}:</span>
          <span class="notification-message">{{ notification.message }}</span>
          <small class="notification-status ml-2" [ngClass]="notification.status">{{ notification.status }}</small>
          <small class="text-muted notification-time">{{ notification.timestamp | date:'short' }}</small>
        </div>
      </nb-list-item>
    </nb-list>
  </nb-card-body>
  <nb-card-footer>
    <button nbButton status="primary" (click)="toggleHistory()">
      {{ showHistoryFlag ? 'Show Less' : 'View History' }}
    </button>
  </nb-card-footer>
</nb-card>
